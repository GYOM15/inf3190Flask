{% extends 'layout.html' %}

{% block title %}Enregistrer un Animal{% endblock %}

{% block content %}
<h1>Enregistrer un Animal</h1>

<!-- Affichage des messages flash -->
{% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
    <div class="flash-messages">
        {% for category, message in messages %}
        <p class="{{ category }}">{{ message }}</p>
        {% endfor %}
    </div>
    {% endif %}
{% endwith %}

<!-- Formulaire d'enregistrement -->
<form method="POST" class="formulaire" action="{{ url_for('animals_routes.register') }}">
    <label for="nom">Nom :</label>
    <input type="text" id="nom" name="nom" value="{{ form.nom if form and form.nom else 'Buddy' }}" placeholder="Entrez le nom de l'animal">
    {% if errors.nom %}
    <p class="error-message">{{ errors.nom }}</p>
    {% endif %}

    <label for="espece">Espèce :</label>
    <input type="text" id="espece" name="espece" value="{{ form.espece if form and form.espece else 'Chien' }}" placeholder="Entrez l'espèce de l'animal">
    {% if errors.espece %}
    <p class="error-message">{{ errors.espece }}</p>
    {% endif %}

    <label for="race">Race :</label>
    <input type="text" id="race" name="race" value="{{ form.race if form and form.race else 'Golden Retriever' }}" placeholder="Entrez la race de l'animal">
    {% if errors.race %}
    <p class="error-message">{{ errors.race }}</p>
    {% endif %}

    <label for="age">Âge :</label>
    <input type="number" id="age" name="age" value="{{ form.age if form and form.age else '5' }}" placeholder="Entrez l'âge en années">
    {% if errors.age %}
    <p class="error-message">{{ errors.age }}</p>
    {% endif %}

    <label for="description">Description :</label>
    <textarea id="description" name="description" placeholder="Décrivez l'animal">{{ form.description if form and form.description else 'Un chien affectueux qui adore jouer avec les enfants.' }}</textarea>
    {% if errors.description %}
    <p class="error-message">{{ errors.description }}</p>
    {% endif %}

    <label for="email">Email :</label>
    <input type="email" id="email" name="email" value="{{ form.email if form and form.email else 'buddy.owner@example.com' }}" placeholder="Entrez votre email">
    {% if errors.email %}
    <p class="error-message">{{ errors.email }}</p>
    {% endif %}

    <label for="adresse">Adresse :</label>
    <input type="text" id="adresse" name="adresse" value="{{ form.adresse if form and form.adresse else '123 Rue des Animaux' }}" placeholder="Entrez votre adresse">
    {% if errors.adresse %}
    <p class="error-message">{{ errors.adresse }}</p>
    {% endif %}

    <label for="ville">Ville :</label>
    <input type="text" id="ville" name="ville" value="{{ form.ville if form and form.ville else 'Paris' }}" placeholder="Entrez votre ville">
    {% if errors.ville %}
    <p class="error-message">{{ errors.ville }}</p>
    {% endif %}

    <label for="code_postal">Code Postal :</label>
    <input type="text" id="code_postal" name="code_postal" value="{{ form.code_postal if form and form.code_postal else '75001' }}" placeholder="Entrez le code postal">
    {% if errors.code_postal %}
    <p class="error-message">{{ errors.code_postal }}</p>
    {% endif %}

    <button type="submit">Enregistrer</button>

    {% if errors and errors.global %}
    <p class="error-message">{{ errors.global }}</p>
    {% endif %}
</form>
{% endblock %}